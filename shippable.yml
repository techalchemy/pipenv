language: python

env:
  - PYPI_VENDOR_DIR=".\tests\pypi\"

python:
  - 3.6
  - 2.7

matrix:
  include:
    - TEST_SUITE=dotvenv
    - TEST_SUITE=check
    - TEST_SUITE=unused
    - TEST_SUITE=requirements
    - TEST_SUITE=complex
    - TEST_SUITE=markers
    - TEST_SUITE=run
    - TEST_SUITE=project
    - TEST_SUITE=utils

install:
  - pip install --upgrade pip
  - pip install --upgrade --upgrade-strategy=only-if-needed .
  - pipenv install --dev

#before_script: mkdir -p shippable/codecoverage shippable/testresults
script:
  - pipenv run pytest -n auto -m cli
  - pipenv run pytest -n auto -m install

build:
  ci:
    - pipenv run pytest -n 8 -m $TEST_SUITE  
